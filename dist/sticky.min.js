!function(){"use strict";var t=angular.module("sticky",[]);t.directive("sticky",["$window",function(t){return{restrict:"A",scope:{disabled:"=disabledSticky"},link:function(e,s,o){function n(e){return"true"===e?t.innerHeight-(s[0].offsetHeight+parseInt(I))<0:!1}function i(t,e,s){var o="top",n=Math.abs(t-e),i=Math.abs(t-s);return n>i&&(o="bottom"),o}function r(t){s.attr("style",H),h=!1,x.removeClass(v),s.removeClass(g),s.removeClass(g),s.addClass(b),"top"===t?s.css("z-index",M.zIndex).css("width","").css("top",M.top).css("position",M.position).css("left",M.cssLeft).css("margin-top",M.marginTop):"bottom"===t&&z===!0&&s.css("z-index",M.zIndex).css("width","").css("top","").css("bottom",0).css("position","absolute").css("left",M.cssLeft).css("margin-top",M.marginTop).css("margin-bottom",M.marginBottom),u&&u.remove()}function c(){h=!0,M.offsetWidth=s[0].offsetWidth,x.addClass(v),s.removeClass(b),s.addClass(g),k&&(u=angular.element("<div>"),u.css("height",s[0].offsetHeight+"px"),s.after(u)),s.css("z-index","10").css("width",s[0].offsetWidth+"px").css("position","fixed").css("left",s.css("left").replace("px","")+"px").css(T,I+a(y)+"px").css("margin-top",0),"bottom"===T&&s.css("margin-bottom",0)}function a(t){var e=0;return t.getBoundingClientRect&&(e=t.getBoundingClientRect().top),e}function f(){var t;return"undefined"!=typeof y.scrollTop?t=y.scrollTop:"undefined"!=typeof y.pageYOffset?t=y.pageYOffset:document.documentElement.scrollTop,t}function l(){var e;return e=w[0]instanceof HTMLElement?t.getComputedStyle(w[0],null).getPropertyValue("height").replace(/px;?/,""):t.innerHeight,parseInt(e)||0}function d(){var e=o.mediaQuery||!1,s=t.matchMedia;return e&&!(s("("+e+")").matches||s(e).matches)}var p,m,u,h=!1,g=o.stickyClass||"",b=o.unstickyClass||"",v=o.bodyClass||"",y=document.getElementsByTagName("sticky-scroll")[0]||t,w=angular.element(y),x=angular.element(document.body),C=a(s[0]),k=void 0!==o.useplaceholder,T="bottom"===o.anchor?"bottom":"top",z="true"===o.confine,I=o.offset?parseInt(o.offset.replace(/px;?/,"")):0,H=s.attr("style")||"",M={zIndex:s.css("z-index"),top:s.css("top"),position:s.css("position"),marginTop:s.css("margin-top"),marginBottom:s.css("margin-bottom"),cssLeft:s.css("left")},W=function(){w.on("scroll",B),w.on("resize",e.$apply.bind(e,L)),e.$on("$destroy",E)},B=function(){if((e.disabled===!0||d())&&h)return r();var t,s=f()-(document.documentElement.clientTop||0);if(t="top"===T?z===!0?s>=p&&m>=s:s>=p:p>=s,!t||n(o.stickLimit)||h){if(!t&&h){var a=i(s,p,m);r(a,s)}}else c()},E=function(){w.off("scroll",B),w.off("resize",L),x.removeClass(v),u&&u.remove()},L=function(){M.offsetWidth=elem.offsetWidth,e.unStickElement(),e.checkIfShouldStick()},S=function(){return e.disabled===!0?r():h?C+f():"top"===T?C-a(y)+f():C-l()+s[0].offsetHeight+f()},$=function(t,e){if((t!==e||"undefined"==typeof p)&&0!==t&&!h){p=t-I,z&&s.parent().css({position:"relative"});var o=s.parent()[0],n=parseInt(o.offsetHeight),i=parseInt(s.css("margin-bottom").replace(/px;?/,""))||0;m=o.offsetTop-a(y)+n-(s[0].offsetTop+s[0].offsetHeight)+I+i,B()}};e.$watch(S,$),W()}}}]),window.matchMedia=window.matchMedia||function(){var t="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(t),function(){return{matches:!0}}}()}();