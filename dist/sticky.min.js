!function(){"use strict";var t=angular.module("sticky",[]);t.directive("sticky",["$window",function(t){return{restrict:"A",scope:{disabled:"=disabledSticky"},link:function(e,s,o){function n(e){return"true"===e?t.innerHeight-(s[0].offsetHeight+parseInt(I))<0:!1}function i(t,e,s){var o="top",n=Math.abs(t-e),i=Math.abs(t-s);return n>i&&(o="bottom"),o}function r(t){s.attr("style",H),g=!1,C.removeClass(y),s.removeClass(b),s.removeClass(b),s.addClass(v),"top"===t?s.css("z-index",M.zIndex).css("width","").css("top",M.top).css("position",M.position).css("left",M.cssLeft).css("margin-top",M.marginTop):"bottom"===t&&z===!0&&s.css("z-index",M.zIndex).css("width","").css("top","").css("bottom",0).css("position","absolute").css("left",M.cssLeft).css("margin-top",M.marginTop).css("margin-bottom",M.marginBottom),m&&m.remove()}function c(){g=!0,M.offsetWidth=s[0].offsetWidth,C.addClass(y),s.removeClass(v),s.addClass(b),k&&(m=angular.element("<div>"),m.css("height",s[0].offsetHeight+"px"),s.after(m)),s.css("z-index","10").css("width",s[0].offsetWidth+"px").css("position","fixed").css("left",s.css("left").replace("px","")+"px").css(T,I+a(w)+"px").css("margin-top",0),"bottom"===T&&s.css("margin-bottom",0)}function a(t){var e=0;return t.getBoundingClientRect&&(e=t.getBoundingClientRect().top),e}function f(){var t;return t="undefined"!=typeof w.scrollTop?w.scrollTop:"undefined"!=typeof w.pageYOffset?w.pageYOffset:document.documentElement.scrollTop}function l(){var e;return e=x[0]instanceof HTMLElement?t.getComputedStyle(x[0],null).getPropertyValue("height").replace(/px;?/,""):t.innerHeight,parseInt(e)||0}function d(){var e=o.mediaQuery||!1,s=t.matchMedia;return e&&!(s("("+e+")").matches||s(e).matches)}var p,u,m,h,g=!1,b=o.stickyClass||"",v=o.unstickyClass||"",y=o.bodyClass||"",w=document.getElementsByTagName("sticky-scroll")[0]||t,x=angular.element(w),C=angular.element(document.body),k=void 0!==o.useplaceholder,T="bottom"===o.anchor?"bottom":"top",z="true"===o.confine,I=o.offset?parseInt(o.offset.replace(/px;?/,"")):0,H=s.attr("style")||"",M={zIndex:s.css("z-index"),top:s.css("top"),position:s.css("position"),marginTop:s.css("margin-top"),marginBottom:s.css("margin-bottom"),cssLeft:s.css("left")},W=function(){h=a(s[0]),x.on("scroll",B),x.on("resize",e.$apply.bind(e,L)),e.$on("$destroy",E)},B=function(){if((e.disabled===!0||d())&&g)return r();var t,s=f()-(document.documentElement.clientTop||0);if(t="top"===T?z===!0?s>=p&&u>=s:s>=p:p>=s,!t||n(o.stickLimit)||g){if(!t&&g){var a=i(s,p,u);r(a,s)}}else c()},E=function(){x.off("scroll",B),x.off("resize",L),C.removeClass(y),m&&m.remove()},L=function(){M.offsetWidth=s[0].offsetWidth,e.unStickElement(),e.checkIfShouldStick()},S=function(){return e.disabled===!0?r():g?h+f():"top"===T?h-a(w)+f():h-l()+s[0].offsetHeight+f()},$=function(t,e){if((t!==e||"undefined"==typeof p)&&0!==t&&!g){p=t-I,z&&s.parent().css({position:"relative"});var o=s.parent()[0],n=parseInt(o.offsetHeight),i=parseInt(s.css("margin-bottom").replace(/px;?/,""))||0;u=o.offsetTop-a(w)+n-(s[0].offsetTop+s[0].offsetHeight)+I+i,B()}};e.$watch(S,$),W()}}}]),window.matchMedia=window.matchMedia||function(){var t="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(t),function(){return{matches:!0}}}()}();