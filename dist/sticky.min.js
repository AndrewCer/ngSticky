!function(){"use strict";var t=angular.module("sticky",[]);t.directive("sticky",["$window",function(t){return{restrict:"A",scope:{disabled:"=disabledSticky"},link:function(e,s,o){function n(e){return"true"===e?t.innerHeight-(s[0].offsetHeight+parseInt(W))<0:!1}function i(t,e,s){var o="top",n=Math.abs(t-e),i=Math.abs(t-s);return n>i&&(o="bottom"),o}function r(t){s.attr("style",B),b=!1,T.removeClass(w),s.removeClass(v),s.addClass(y),"top"===t?(s.removeClass(C),s.css("z-index",10).css("width",s[0].offsetWidth).css("top",L.top).css("position",L.position).css("left",L.cssLeft).css("margin-top",L.marginTop).css("height",L.height)):"bottom"===t&&I===!0&&(s.addClass(C),s.css("z-index",10).css("width",s[0].offsetWidth).css("top","").css("bottom",0).css("position","absolute").css("left",L.cssLeft).css("margin-top",L.marginTop).css("margin-bottom",L.marginBottom).css("height",L.height)),m&&t===z&&m.remove()}function a(t){b=!0,L.offsetWidth=s[0].offsetWidth,T.addClass(w),s.removeClass(y),s.removeClass(C),s.addClass(v),M&&t===z&&(m=angular.element("<div>"),m.css("height",s[0].offsetHeight+"px"),s.after(m)),s.css("z-index","10").css("width",s[0].offsetWidth+"px").css("position","fixed").css("left",s.css("left").replace("px","")+"px").css(z,W+f(x)+"px").css("margin-top",0),"bottom"===z&&s.css("margin-bottom",0)}function c(){return I&&l()>g?!0:!1}function f(t){var e=0;return t.getBoundingClientRect&&(e=t.getBoundingClientRect().top),e}function l(){var t;return t="undefined"!=typeof x.scrollTop?x.scrollTop:"undefined"!=typeof x.pageYOffset?x.pageYOffset:document.documentElement.scrollTop}function d(){var e;return e=H[0]instanceof HTMLElement?t.getComputedStyle(H[0],null).getPropertyValue("height").replace(/px;?/,""):t.innerHeight,parseInt(e)||0}function p(){var e=o.mediaQuery||!1,s=t.matchMedia;return e&&!(s("("+e+")").matches||s(e).matches)}var u,m,h,g=0,b=!1,v=o.stickyClass||"",y=o.unstickyClass||"",w=o.bodyClass||"",C=o.bottomClass||"",x=document.getElementsByTagName("sticky-scroll")[0]||t,k=angular.element(t),H=angular.element(x),T=angular.element(document.body),M="false"!==o.usePlaceholder,z="bottom"===o.anchor?"bottom":"top",I="true"===o.confine,W=o.offset?parseInt(o.offset.replace(/px;?/,"")):0,B=s.attr("style")||"",L={zIndex:s.css("z-index"),top:s.css("top"),position:s.css("position"),marginTop:s.css("margin-top"),marginBottom:s.css("margin-bottom"),cssLeft:s.css("left"),height:s.css("height")},$=function(){H.on("scroll",E),k.on("resize",e.$apply.bind(e,O)),e.$on("$destroy",P)},E=function(){if((e.disabled===!0||p())&&b)return r();var t,c=l();t="top"===z?I===!0?c>u&&g>=c:c>u:u>=c;var d=i(c,u,g);!t||n(o.stickLimit)||b?!t&&b?r(d,c):I&&!t&&(h=f(s[0]),r(d,c)):a(d)},P=function(){H.off("scroll",E),k.off("resize",O),T.removeClass(w),m&&m.remove()},O=function(){r(z),E()},R=function(){return e.disabled===!0?r():"top"===z?(h||f(s[0]))-f(x)+l():f(s[0])-d()+s[0].offsetHeight+l()},S=function(t,e){if(!(t===e&&"undefined"!=typeof u||b||c())){u=t-W,I&&s.parent().css({position:"relative"});var o=s.parent()[0],n=parseInt(o.offsetHeight)-(M?0:s[0].offsetHeight),i=parseInt(s.css("margin-bottom").replace(/px;?/,""))||0,r=f(s[0]),a=f(o),d=f(x),p=r-d,m=a+n-r;g=p+m-s[0].offsetHeight-i-W+ +l(),E()}};e.$watch(R,S),$()}}}]),window.matchMedia=window.matchMedia||function(){var t="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(t),function(){return{matches:!0}}}()}();